(function(){"use strict";var e={7218:function(e,s,t){var n=t(3751),i=t(641);const a={class:"container"},r={class:"content"},o={class:"left"},u={class:"right"},l={class:"top"},c={class:"bottom"};function d(e,s,t,n,d,p){const h=(0,i.g2)("RecipeForm"),m=(0,i.g2)("NutritionOutput"),g=(0,i.g2)("TasteOutput"),v=(0,i.g2)("CostOutput"),k=(0,i.g2)("ChatBot");return(0,i.uX)(),(0,i.CE)("div",a,[s[0]||(s[0]=(0,i.Lk)("header",null,[(0,i.Lk)("h1",null,"KimchiLabX")],-1)),(0,i.Lk)("div",r,[(0,i.Lk)("div",o,[(0,i.bF)(h,{onSubmitRecipe:p.updateRecipe},null,8,["onSubmitRecipe"])]),(0,i.Lk)("div",u,[(0,i.Lk)("div",l,[(0,i.bF)(m,{ingredients:d.ingredients},null,8,["ingredients"]),(0,i.bF)(g,{ingredients:d.ingredients},null,8,["ingredients"])]),(0,i.Lk)("div",c,[(0,i.bF)(v,{ingredients:d.ingredients},null,8,["ingredients"]),(0,i.bF)(k)])])])])}var p=t(33);const h={class:"recipe-form"},m={class:"header-row"},g={class:"button-group"},v={key:0},k={key:1},b=["onUpdate:modelValue"],f={key:0},y=["onUpdate:modelValue"],L=["value"],C={key:1},w=["onUpdate:modelValue"],E=["value"],O={class:"summary"},_={key:0,class:"warning"},P={key:1,class:"warning"},X=["disabled"];function F(e,s,t,a,r,o){return(0,i.uX)(),(0,i.CE)("div",h,[(0,i.Lk)("div",m,[s[6]||(s[6]=(0,i.Lk)("h2",null,"레시피 입력",-1)),(0,i.Lk)("div",g,[(0,i.Lk)("button",{onClick:s[0]||(s[0]=e=>o.applyRecommendedRatio("중부식김치")),class:"recommend-btn"},"중부식김치"),(0,i.Lk)("button",{onClick:s[1]||(s[1]=e=>o.applyRecommendedRatio("남도식김치")),class:"recommend-btn"},"남도식김치"),(0,i.Lk)("button",{onClick:s[2]||(s[2]=e=>o.applyRecommendedRatio("숙성김치")),class:"recommend-btn"},"숙성김치"),(0,i.Lk)("button",{onClick:s[3]||(s[3]=e=>o.applyRecommendedRatio("외/급식용김치")),class:"recommend-btn"},"외/급식용김치")])]),(0,i.Lk)("table",null,[(0,i.Lk)("thead",null,[(0,i.Lk)("tr",null,[s[7]||(s[7]=(0,i.Lk)("th",null,"재료",-1)),s[8]||(s[8]=(0,i.Lk)("th",null,"배합비(%)",-1)),o.hasVariantOption(e.ingredient?.type)?((0,i.uX)(),(0,i.CE)("th",v,"종류")):(0,i.Q3)("",!0),o.hasSeasonOption(e.ingredient?.type)?((0,i.uX)(),(0,i.CE)("th",k,"작형")):(0,i.Q3)("",!0)])]),(0,i.Lk)("tbody",null,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(r.ingredients,((e,t)=>((0,i.uX)(),(0,i.CE)("tr",{key:t},[(0,i.Lk)("td",null,(0,p.v_)(e.type||"N/A"),1),(0,i.Lk)("td",null,[(0,i.bo)((0,i.Lk)("input",{type:"number","onUpdate:modelValue":s=>e.percentage=s,onInput:s[4]||(s[4]=(...e)=>o.validatePercentage&&o.validatePercentage(...e))},null,40,b),[[n.Jo,e.percentage,void 0,{number:!0}]])]),o.hasVariantOption(e.type)?((0,i.uX)(),(0,i.CE)("td",f,[(0,i.bo)((0,i.Lk)("select",{"onUpdate:modelValue":s=>e.variant=s},[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(r.ingredientOptions[e.type]?.variants||[],(e=>((0,i.uX)(),(0,i.CE)("option",{key:e,value:e},(0,p.v_)(e),9,L)))),128))],8,y),[[n.u1,e.variant]])])):(0,i.Q3)("",!0),o.hasSeasonOption(e.type)?((0,i.uX)(),(0,i.CE)("td",C,[(0,i.bo)((0,i.Lk)("select",{"onUpdate:modelValue":s=>e.season=s},[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(r.ingredientOptions[e.type]?.seasons||[],(e=>((0,i.uX)(),(0,i.CE)("option",{key:e,value:e},(0,p.v_)(e),9,E)))),128))],8,w),[[n.u1,e.season]])])):(0,i.Q3)("",!0)])))),128))])]),(0,i.Lk)("p",O,[s[9]||(s[9]=(0,i.eW)(" 현재 배합비 합계: ")),(0,i.Lk)("strong",null,(0,p.v_)(o.totalPercentage.toFixed(2))+"%",1),o.totalPercentage>100?((0,i.uX)(),(0,i.CE)("span",_," (100% 초과하였습니다)")):(0,i.Q3)("",!0),o.totalPercentage<100?((0,i.uX)(),(0,i.CE)("span",P," (100%가 되어야 합니다)")):(0,i.Q3)("",!0)]),(0,i.Lk)("button",{onClick:s[5]||(s[5]=(...e)=>o.submitRecipe&&o.submitRecipe(...e)),disabled:100!==o.totalPercentage,class:"submit-btn"},"분석하기",8,X)])}t(8111),t(7588),t(1701),t(8237);var x={data(){return{ingredientOptions:{"절임배추":{variants:["저염절임","기본절임","고염절임"],seasons:["봄작형","여름작형","가을작형","겨울작형"]},"무":{variants:[],seasons:["봄작형","여름작형","가을작형","겨울작형"]},"마늘":{variants:["한지마늘","대서마늘","남도마늘"],seasons:[]},"생강":{variants:[],seasons:[]},"고춧가루":{variants:["보통맛","중간맛","매운맛"],seasons:[]},"대파":{variants:[],seasons:[]},"양파":{variants:[],seasons:[]},"쪽파":{variants:[],seasons:[]},"갓":{variants:[],seasons:[]},"부추":{variants:[],seasons:[]},"다시육수":{variants:[],seasons:[]},"찹쌀풀":{variants:[],seasons:[]},"멸치액젓":{variants:[],seasons:[]},"새우젓":{variants:[],seasons:[]},"황석어젓":{variants:[],seasons:[]},"갈치젓":{variants:[],seasons:[]},"정백당":{variants:[],seasons:[]},"미원":{variants:[],seasons:[]}},ingredients:[],recommendedRatios:{"중부식김치":[60,10,5,2,6,3,5,1.5,1,1,1,1,.5,.5,.5,.5,1,.5],"남도식김치":[60,7,6,4,6,2,1,2,1.5,2,2,2,1,1,.5,.5,1,.5],"숙성김치":[60,7,7,2,7,2,3,1.5,1,1,1,1.5,1,1,.5,.5,2,1],"외/급식용김치":[65,8,4,2,6,2,4,1,1,1,.5,3,.3,.3,.2,.2,1,.5]}}},created(){this.initializeIngredients()},computed:{totalPercentage(){return this.ingredients.reduce(((e,s)=>e+(s.percentage||0)),0)}},methods:{initializeIngredients(){this.ingredients=Object.keys(this.ingredientOptions).map((e=>({type:e,variant:this.ingredientOptions[e]?.variants?.[0]||"",season:this.ingredientOptions[e]?.seasons?.[0]||"",percentage:0})))},applyRecommendedRatio(e){this.ingredients.forEach(((s,t)=>{s.percentage=this.recommendedRatios[e][t]||0}))},validatePercentage(){},submitRecipe(){100===this.totalPercentage&&this.$emit("submit-recipe",this.ingredients)},hasVariantOption(e){return this.ingredientOptions[e]?.variants?.length>0},hasSeasonOption(e){return this.ingredientOptions[e]?.seasons?.length>0}}},I=t(6262);const R=(0,I.A)(x,[["render",F],["__scopeId","data-v-795ab0ee"]]);var T=R;const V={class:"cost-output"};function A(e,s,t,a,r,o){return(0,i.uX)(),(0,i.CE)("div",V,[(0,i.Lk)("h4",null,[(0,i.eW)("예상 단가: "+(0,p.v_)(o.totalCost.toFixed(2))+" 원 ",1),(0,i.Lk)("button",{class:"detail-btn",onClick:s[0]||(s[0]=e=>r.showDetails=!0)},"자세히 >")]),r.showDetails?((0,i.uX)(),(0,i.CE)("div",{key:0,class:"modal-overlay",onClick:s[3]||(s[3]=e=>r.showDetails=!1)},[(0,i.Lk)("div",{class:"modal-content",onClick:s[2]||(s[2]=(0,n.D$)((()=>{}),["stop"]))},[s[5]||(s[5]=(0,i.Lk)("h3",null,"상세 단가 정보",-1)),(0,i.Lk)("table",null,[s[4]||(s[4]=(0,i.Lk)("thead",null,[(0,i.Lk)("tr",null,[(0,i.Lk)("th",null,"재료"),(0,i.Lk)("th",null,"배합비(%)"),(0,i.Lk)("th",null,"원가(원/kg)"),(0,i.Lk)("th",null,"최종 원가(원)")])],-1)),(0,i.Lk)("tbody",null,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(o.costData,((e,s)=>((0,i.uX)(),(0,i.CE)("tr",{key:s},[(0,i.Lk)("td",null,(0,p.v_)(e.name),1),(0,i.Lk)("td",null,(0,p.v_)(e.percentage)+"%",1),(0,i.Lk)("td",null,(0,p.v_)(e.unitPrice.toLocaleString())+" 원/kg",1),(0,i.Lk)("td",null,(0,p.v_)((e.percentage/100*e.unitPrice).toFixed(2).toLocaleString())+" 원",1)])))),128))])]),(0,i.Lk)("button",{class:"close-btn",onClick:s[1]||(s[1]=e=>r.showDetails=!1)},"닫기")])])):(0,i.Q3)("",!0)])}var $={props:{ingredients:Array},data(){return{unitPrices:{"절임배추":600,"무":500,"마늘":7e3,"생강":8e3,"고춧가루":15e3,"대파":3e3,"양파":2500,"쪽파":3500,"갓":4500,"부추":4e3,"다시육수":5e3,"찹쌀풀":3e3,"멸치액젓":7e3,"새우젓":9e3,"황석어젓":11e3,"갈치젓":12e3,"정백당":2e3,"미원":3e3},showDetails:!1}},computed:{costData(){return this.ingredients.map((e=>({name:e.type,percentage:e.percentage,unitPrice:this.unitPrices[e.type]||0})))},totalCost(){return this.costData.reduce(((e,s)=>e+s.percentage/100*s.unitPrice),0)}}};const j=(0,I.A)($,[["render",A],["__scopeId","data-v-b5cb2c8c"]]);var D=j;const K={class:"nutrition-output"};function B(e,s,t,n,a,r){return(0,i.uX)(),(0,i.CE)("div",K,[s[1]||(s[1]=(0,i.Lk)("h3",null,"영양정보",-1)),(0,i.Lk)("table",null,[s[0]||(s[0]=(0,i.Lk)("thead",null,[(0,i.Lk)("tr",null,[(0,i.Lk)("th",null,"성분"),(0,i.Lk)("th",null,"총량"),(0,i.Lk)("th",null,"1일 기준치 대비 (%)")])],-1)),(0,i.Lk)("tbody",null,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(r.totalNutrition,((e,s)=>((0,i.uX)(),(0,i.CE)("tr",{key:s},[(0,i.Lk)("td",null,(0,p.v_)(a.nutritionLabels[s]),1),(0,i.Lk)("td",null,(0,p.v_)(r.formatValue(e)),1),(0,i.Lk)("td",null,(0,p.v_)(r.getDailyValuePercent(s,e))+"%",1)])))),128))])]),s[2]||(s[2]=(0,i.Lk)("p",{class:"footnote"},"※ 1일 영양성분 기준치(%)는 2,000kcal 기준이며, 개인의 필요 열량에 따라 다를 수 있습니다.",-1))])}var M={props:{ingredients:Array},data(){return{nutritionFactors:{"절임배추":{carbs:5,sugar:1,protein:1,fat:.1,sodium:50},"무":{carbs:6,sugar:2,protein:1,fat:.2,sodium:30},"마늘":{carbs:33,sugar:2,protein:6,fat:.5,sodium:5},"고춧가루":{carbs:55,sugar:1,protein:12,fat:15,sodium:10},"멸치액젓":{carbs:1,sugar:0,protein:10,fat:1,sodium:2500},"새우젓":{carbs:3,sugar:0,protein:12,fat:2,sodium:3e3}},dailyValues:{carbs:300,sugar:50,protein:50,fat:65,sodium:2e3},nutritionLabels:{carbs:"탄수화물",sugar:"당류",protein:"단백질",fat:"지방",sodium:"나트륨"}}},computed:{totalNutrition(){let e={carbs:0,sugar:0,protein:0,fat:0,sodium:0};return this.ingredients.forEach((s=>{let t=this.nutritionFactors[s.type]||{};Object.keys(e).forEach((n=>{e[n]+=(t[n]||0)*(s.percentage/100)}))})),e}},methods:{formatValue(e){return e>=1?`${e.toFixed(1)} g`:`${(1e3*e).toFixed(0)} mg`},getDailyValuePercent(e,s){return this.dailyValues[e]?(s/this.dailyValues[e]*100).toFixed(0):"-"}}};const S=(0,I.A)(M,[["render",B],["__scopeId","data-v-ce81533c"]]);var N=S;const U={class:"taste-output"},Q={ref:"radarChart"},W={class:"warnings"};function z(e,s,t,n,a,r){return(0,i.uX)(),(0,i.CE)("div",U,[s[0]||(s[0]=(0,i.Lk)("h3",null,"맛 프로파일",-1)),(0,i.Lk)("canvas",Q,null,512),(0,i.Lk)("div",W,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(r.tasteWarnings,((e,s)=>((0,i.uX)(),(0,i.CE)("p",{key:s,class:"warning-text"}," ⚠️ "+(0,p.v_)(e),1)))),128))])])}t(2489);var H=t(3409);H.t1.register(...H.$L);var J={props:{ingredients:Array},data(){return{baseTasteFactors:{"절임배추":{sweetness:2,saltiness:6,sourness:5,umami:2,spiciness:1},"무":{sweetness:6,saltiness:2,sourness:2,umami:1,spiciness:0},"마늘":{sweetness:1,saltiness:3,sourness:1,umami:4,spiciness:3},"생강":{sweetness:2,saltiness:1,sourness:3,umami:2,spiciness:6},"고춧가루":{sweetness:1,saltiness:2,sourness:1,umami:3,spiciness:9},"대파":{sweetness:3,saltiness:1,sourness:1,umami:2,spiciness:2},"양파":{sweetness:5,saltiness:1,sourness:2,umami:3,spiciness:1},"쪽파":{sweetness:2,saltiness:1,sourness:1,umami:3,spiciness:3},"갓":{sweetness:1,saltiness:3,sourness:3,umami:2,spiciness:5},"부추":{sweetness:3,saltiness:2,sourness:2,umami:3,spiciness:4},"다시육수":{sweetness:3,saltiness:4,sourness:1,umami:6,spiciness:0},"찹쌀풀":{sweetness:4,saltiness:1,sourness:1,umami:2,spiciness:0},"멸치액젓":{sweetness:0,saltiness:9,sourness:2,umami:7,spiciness:0},"새우젓":{sweetness:2,saltiness:8,sourness:2,umami:6,spiciness:0},"황석어젓":{sweetness:1,saltiness:9,sourness:3,umami:8,spiciness:0},"갈치젓":{sweetness:2,saltiness:8,sourness:2,umami:7,spiciness:0},"정백당":{sweetness:9,saltiness:0,sourness:0,umami:0,spiciness:0},"미원":{sweetness:1,saltiness:2,sourness:0,umami:9,spiciness:0}},variantTasteModifiers:{"절임배추":{"저염절임":{saltiness:-2,sourness:-1},"고염절임":{saltiness:2,sourness:1}},"고춧가루":{"보통맛":{spiciness:7},"중간맛":{spiciness:8},"매운맛":{spiciness:9}}},seasonTasteModifiers:{"절임배추":{"봄작형":{sweetness:1},"가을작형":{sourness:1}},"무":{"봄작형":{sweetness:2},"겨울작형":{sweetness:3,sourness:-1}}}}},computed:{tasteProfile(){let e={sweetness:0,saltiness:0,sourness:0,umami:0,spiciness:0};return this.ingredients.forEach((s=>{let t=this.baseTasteFactors[s.type]||{},n=this.variantTasteModifiers[s.type]?.[s.variant]||{},i=this.seasonTasteModifiers[s.type]?.[s.season]||{};Object.keys(e).forEach((a=>{let r=t[a]||0,o=n[a]||0,u=i[a]||0;e[a]+=(r+o+u)*(s.percentage/100)}))})),Object.values(e).map((e=>Math.min(10,e.toFixed(2))))},tasteWarnings(){const e=["단맛","짠맛","신맛","감칠맛","매운맛"];return this.tasteProfile.map(((s,t)=>s<2?`${e[t]} 값이 너무 낮습니다. (현재: ${s})`:s>5?`${e[t]} 값이 너무 높습니다. (현재: ${s})`:null)).filter((e=>null!==e))}},mounted(){this.renderChart()},watch:{tasteProfile(){this.renderChart()}},methods:{renderChart(){this.chart&&this.chart.destroy(),this.chart=new H.t1(this.$refs.radarChart,{type:"radar",data:{labels:["단맛","짠맛","신맛","감칠맛","매운맛"],datasets:[{data:this.tasteProfile,fill:!0,borderColor:"rgba(255, 99, 132, 1)",backgroundColor:"rgba(255, 99, 132, 0.2)"}]},options:{plugins:{legend:{display:!1}},scales:{r:{min:0,max:10}}}})}}};const q=(0,I.A)(J,[["render",z],["__scopeId","data-v-6ee6b32e"]]);var G=q;const Y={class:"chatbot"},Z={class:"chat-body",ref:"chatBody"},ee={class:"chat-input"},se=["disabled"];function te(e,s,t,a,r,o){return(0,i.uX)(),(0,i.CE)("div",Y,[(0,i.Lk)("div",Z,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(r.messages,((e,s)=>((0,i.uX)(),(0,i.CE)("div",{key:s,class:(0,p.C4)(e.type)},(0,p.v_)(e.text),3)))),128))],512),(0,i.Lk)("div",ee,[(0,i.bo)((0,i.Lk)("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=e=>r.userInput=e),onKeyup:s[1]||(s[1]=(0,n.jR)(((...e)=>o.sendMessage&&o.sendMessage(...e)),["enter"])),placeholder:"메시지를 입력하세요..."},null,544),[[n.Jo,r.userInput]]),(0,i.Lk)("button",{onClick:s[2]||(s[2]=(...e)=>o.sendMessage&&o.sendMessage(...e)),disabled:r.isLoading},"전송",8,se)])])}t(4114);var ne={data(){return{userInput:"",messages:[{text:"안녕하세요! 김치 배합에 대해 질문해 주세요.",type:"bot"}],isLoading:!1,hfToken:{NODE_ENV:"production",BASE_URL:"/KimchiLabX/"}.VUE_APP_HF_TOKEN}},methods:{async sendMessage(){if(!this.userInput.trim()||this.isLoading)return;this.messages.push({text:this.userInput,type:"user"});const e=this.userInput;this.userInput="",this.isLoading=!0,this.$nextTick((()=>this.scrollToBottom()));try{const s=await fetch("https://api-inference.huggingface.co/models/facebook/blenderbot-3B",{method:"POST",headers:{Authorization:`Bearer ${this.hfToken}`,"Content-Type":"application/json"},body:JSON.stringify({inputs:e})}),t=await s.json();console.log("📌 Hugging Face API 응답:",t),t.length>0&&t[0].generated_text?this.messages.push({text:t[0].generated_text,type:"bot"}):this.messages.push({text:"API 응답이 없습니다. 다시 시도해 주세요.",type:"bot"})}catch(s){console.error("🚨 API 요청 실패:",s),this.messages.push({text:"오류가 발생했습니다. 다시 시도해주세요.",type:"bot"})}finally{this.isLoading=!1,this.$nextTick((()=>this.scrollToBottom()))}},scrollToBottom(){this.$nextTick((()=>{const e=this.$refs.chatBody;e&&(e.scrollTop=e.scrollHeight)}))}}};const ie=(0,I.A)(ne,[["render",te],["__scopeId","data-v-196201de"]]);var ae=ie,re={components:{RecipeForm:T,CostOutput:D,NutritionOutput:N,TasteOutput:G,ChatBot:ae},data(){return{ingredients:[]}},methods:{updateRecipe(e){this.ingredients=e}}};const oe=(0,I.A)(re,[["render",d],["__scopeId","data-v-5f52b8b1"]]);var ue=oe;(0,n.Ef)(ue).mount("#app")}},s={};function t(n){var i=s[n];if(void 0!==i)return i.exports;var a=s[n]={exports:{}};return e[n].call(a.exports,a,a.exports,t),a.exports}t.m=e,function(){var e=[];t.O=function(s,n,i,a){if(!n){var r=1/0;for(c=0;c<e.length;c++){n=e[c][0],i=e[c][1],a=e[c][2];for(var o=!0,u=0;u<n.length;u++)(!1&a||r>=a)&&Object.keys(t.O).every((function(e){return t.O[e](n[u])}))?n.splice(u--,1):(o=!1,a<r&&(r=a));if(o){e.splice(c--,1);var l=i();void 0!==l&&(s=l)}}return s}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[n,i,a]}}(),function(){t.d=function(e,s){for(var n in s)t.o(s,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:s[n]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,s){return Object.prototype.hasOwnProperty.call(e,s)}}(),function(){var e={524:0};t.O.j=function(s){return 0===e[s]};var s=function(s,n){var i,a,r=n[0],o=n[1],u=n[2],l=0;if(r.some((function(s){return 0!==e[s]}))){for(i in o)t.o(o,i)&&(t.m[i]=o[i]);if(u)var c=u(t)}for(s&&s(n);l<r.length;l++)a=r[l],t.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return t.O(c)},n=self["webpackChunkmy_vue_app"]=self["webpackChunkmy_vue_app"]||[];n.forEach(s.bind(null,0)),n.push=s.bind(null,n.push.bind(n))}();var n=t.O(void 0,[504],(function(){return t(7218)}));n=t.O(n)})();
//# sourceMappingURL=app.23bb9e62.js.map